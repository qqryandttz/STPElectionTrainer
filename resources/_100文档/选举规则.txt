stp选举过程

选举前:交换机启动后就自动开始进行生成树收敛计算。默认情况下，所有交换机启动时都认为自己是根桥，自己的所有端口都为指定端口

选举中:
1.选举一台交换机作为根桥,比较顺序: 优先值小 --> MAC小
2.在非根桥交换机的端口上选举一个根端口: 路径开销小 --> 对端BID小 --> 对端PID小 --> 本端PID小 --> 
3.选举指定端口: 非根桥 根路径开销小 --> BID小 --> PID小
                根桥 每个端口都是指定端口
4.堵塞剩余端口

选举后:可以观察到,通过以上的流程后，将会产生无环路的网络结构，提高网络的性能和稳定性。

桥优先级的取值范围是0~65535，缺省值是32768。


根端口选举：
非根交换机在选举根端口时分别依据该端口的根路径开销、对端BID（Bridge ID）、对端PID（Port ID）和本端PID。 交换机的每个端口都有一个端口开销（Port Cost）参数，此参数表示该端口在STP中的开销值。

非根桥通过对比多条路径的路径开销，选出到达根桥的最短路径，这条最短路径的路径开销被称为RPC（Root Path Cost，根路径开销），并生成无环树状网络。